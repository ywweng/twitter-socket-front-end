(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6f5d47a"],{"152c":function(e,t,s){},"554b":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"like-list"},[e.isLoading?a("Spinner"):e._e(),e._l(e.userLikes,(function(t){return a("div",{key:t.id,staticClass:"tweet-card d-flex"},[a("router-link",{attrs:{to:{name:"user-profile",params:{userId:t.Tweet.User.id}}}},[a("img",{staticClass:"avatar",attrs:{src:t.Tweet.User.avatar,alt:""}})]),a("div",{staticClass:"tweet-info d-flex flex-column"},[a("div",{staticClass:"first-line"},[a("span",{staticClass:"text-name"},[e._v(e._s(t.Tweet.User.name))]),a("span",{staticClass:"text-account"},[e._v("@"+e._s(t.Tweet.User.account)+"ï¼Ž"+e._s(e._f("fromNow")(t.createdAt)))])]),a("router-link",{attrs:{to:{name:"single-tweet",params:{tweetId:t.id,tweet:t}}}},[a("div",{staticClass:"tweet-content"},[e._v(" "+e._s(t.Tweet.description)+" ")])]),a("div",{staticClass:"action my-1"},[a("span",{staticClass:"icon-wrap"},[a("button",{staticClass:"btn-reply",attrs:{"data-bs-toggle":"modal","data-bs-target":"#new-reply-modal"},on:{click:function(s){return e.handleReplyModal(t)}}},[a("img",{staticClass:"reply",attrs:{src:s("49b3"),alt:""}})]),a("span",{staticClass:"text-like-reply"},[e._v(e._s(t.Tweet.replyCount))])]),a("span",{staticClass:"icon-wrap ms-4"},[t.isLike?a("img",{staticClass:"like",attrs:{src:s("648b"),alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.deleteLike(t.TweetId)}}}):a("img",{staticClass:"like",attrs:{src:s("a921"),alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.addLike(t.TweetId)}}}),a("span",{staticClass:"text-like-reply"},[e._v(e._s(t.Tweet.likeCount))])])])],1)],1)})),a("NewReplyModal",{attrs:{tweet:e.tweetActive},on:{"after-reply-submit":e.afterReplySubmit}})],2)},n=[],r=s("5530"),i=s("1da1"),c=(s("96cf"),s("a9e3"),s("d81d"),s("4de4"),s("d3b7"),s("3d4f")),l=s("1602"),o=s("6783"),u=s("2fa3"),d=s("2708"),p=s("2375"),f={name:"userLikeList",components:{NewReplyModal:c["a"],Spinner:p["a"]},props:{userId:{type:Number,required:!0}},mixins:[d["b"]],data:function(){return{userLikes:[],isLoading:!0,isLiked:!0,tweetActive:[]}},created:function(){var e=this.userId;this.fetchLikes(e)},watch:{userId:function(e){this.fetchLikes(e)}},methods:{fetchLikes:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,l["a"].getUserLikes({userId:e});case 3:a=s.sent,n=a.data,t.userLikes=n,t.isLoading=!1,s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](0),t.isLoading=!1;case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))()},handleReplyModal:function(e){var t=e.Tweet;this.tweetActive=Object(r["a"])({},t)},afterReplySubmit:function(e){var t=e.tweetId,s=e.replyCount;this.allTweets=this.allTweets.map((function(e){return e.id!==t?e:Object(r["a"])(Object(r["a"])({},e),{},{replyCount:s})}))},deleteLike:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].deleteLike({id:e});case 3:a=s.sent,"success"===a.status&&u["a"].fire({icon:"success",title:a.message}),t.userLikes=t.userLikes.filter((function(t){return t.TweetId!==e})),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()}}},w=f,k=(s("5ced"),s("2877")),m=Object(k["a"])(w,a,n,!1,null,"b534bbb4",null);t["default"]=m.exports},"5ced":function(e,t,s){"use strict";s("152c")}}]);
//# sourceMappingURL=chunk-d6f5d47a.66a98423.js.map